<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>HappyOS Installer | Ø§Ù„Ù…ÙØ«Ø¨Øª Ø§Ù„Ø¢Ù…Ù†</title>
    <style>
        body { background: #000; color: #30d158; font-family: sans-serif; text-align: center; padding: 50px; }
        .box { border: 2px solid #30d158; padding: 20px; border-radius: 20px; display: inline-block; }
        .lock-icon { font-size: 50px; margin-bottom: 10px; }
    </style>
</head>
<body>
    <div class="box">
        <div class="lock-icon">ğŸ”’</div>
        <h2>Ù…ÙØ«Ø¨Øª HappyOS Ø§Ù„Ù…Ø¹ØªÙ…Ø¯</h2>
        <div id="status">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø£Ù…Ø§Ù† Ø§Ù„Ù…Ù„Ù...</div>
        <br>
        <button id="installNow" style="display:none; padding:15px 30px; background:#30d158; border:none; border-radius:10px; font-weight:bold;">ØªØ«Ø¨ÙŠØª Ø§Ù„Ø¢Ù† (Ø¹Ø¨Ø± Ø³ÙŠØ±ÙØ± HappyOS)</button>
    </div>

    <script>
        // Ø¯Ø§Ù„Ø© ÙÙƒ Ø§Ù„ØªØ´ÙÙŠØ± (Ù„Ù…Ù†Ø¹ Ø§Ù„Ø³Ø±Ù‚Ø©)
        function decryptLink(encoded) {
            return atob(encoded); // ÙÙƒ Ø´ÙØ±Ø© Base64 Ø¨Ø³ÙŠØ·Ø© ÙƒÙ…Ø±Ø­Ù„Ø© Ø£ÙˆÙ„Ù‰
        }

        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø´ÙØ± Ù…Ù† Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØµÙØ­Ø©
        const urlParams = new URLSearchParams(window.location.search);
        const encryptedFile = urlParams.get('file');

        if (encryptedFile) {
            setTimeout(() => {
                const realLink = decryptLink(encryptedFile);
                document.getElementById('status').innerText = "ØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚! Ø§Ù„Ù…Ù„Ù Ù…Ø­Ù…ÙŠ ÙˆØ­ØµØ±ÙŠ Ù„Ù€ HappyOS";
                const btn = document.getElementById('installNow');
                btn.style.display = "inline-block";
                
                btn.onclick = () => {
                    // ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„ØªØ«Ø¨ÙŠØª Ø¹Ø¨Ø± Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„ itms-services Ø§Ù„Ù…Ø¹ØªÙ…Ø¯ Ù„Ù„Ø¢ÙŠÙÙˆÙ†
                    window.location.href = "itms-services://?action=download-manifest&url=" + realLink;
                };
            }, 2000);
        } else {
            document.getElementById('status').innerText = "Ø®Ø·Ø£: Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªØ­Ù…ÙŠÙ„ Ù…Ù„ÙØ§Øª Ù…Ù† Ù…ØµØ§Ø¯Ø± Ø®Ø§Ø±Ø¬ÙŠØ©!";
            document.getElementById('status').style.color = "red";
        }
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HappyOS Installer | Ù…Ø«Ø¨Øª Ù‡Ø§Ø¨ÙŠ</title>
    <style>
        body { background-color: #000; color: #fff; font-family: -apple-system, sans-serif; display: flex; align-items: center; justify-content: center; height: 100vh; margin: 0; }
        .card { background: #1c1c1e; padding: 40px; border-radius: 30px; text-align: center; border: 2px solid #30d158; width: 80%; max-width: 400px; }
        .loader { border: 4px solid #f3f3f3; border-top: 4px solid #30d158; border-radius: 50%; width: 40px; height: 40px; animation: spin 2s linear infinite; margin: 20px auto; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .btn { background: #30d158; color: #000; padding: 15px 30px; border-radius: 15px; font-weight: bold; text-decoration: none; display: none; margin-top: 20px; }
        h2 { color: #30d158; }
    </style>
</head>
<body>

<div class="card">
    <div id="loadingSection">
        <div class="loader"></div>
        <p>Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø£Ù…Ø§Ù† Ø§Ù„Ø±Ø§Ø¨Ø·...</p>
    </div>
    
    <div id="installSection" style="display:none;">
        <h2>Ø¬Ù‡Ø§Ø²Ùƒ Ø¬Ø§Ù‡Ø²!</h2>
        <p>ØªÙ… ÙÙƒ ØªØ´ÙÙŠØ± Ø§Ù„Ù…Ù„Ù Ø¨Ù†Ø¬Ø§Ø­ Ø¹Ø¨Ø± HappyOS</p>
        <a id="realLink" href="#" class="btn">ØªØ«Ø¨ÙŠØª Ø§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù„Ø¢Ù† ğŸš€</a>
    </div>
</div>

<script>
    // ÙˆØ¸ÙŠÙØ© ÙÙƒ Ø§Ù„ØªØ´ÙÙŠØ± Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
    window.onload = function() {
        const urlParams = new URLSearchParams(window.location.search);
        const encodedFile = urlParams.get('file');

        if (encodedFile) {
            setTimeout(() => {
                try {
                    // ÙÙƒ Ø§Ù„ØªØ´ÙÙŠØ±
                    const decoded = atob(encodedFile);
                    
                    // ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø±Ø§Ø¨Ø· Ø¥Ù„Ù‰ Ø±Ø§Ø¨Ø· ØªØ«Ø¨ÙŠØª Ø¢ÙŠÙÙˆÙ†
                    const installLink = "itms-services://?action=download-manifest&url=" + decoded;
                    
                    document.getElementById('loadingSection').style.display = "none";
                    document.getElementById('installSection').style.display = "block";
                    
                    const btn = document.getElementById('realLink');
                    btn.style.display = "inline-block";
                    btn.href = installLink;
                } catch (e) {
                    alert("Ø®Ø·Ø£ ÙÙŠ ÙÙƒ ØªØ´ÙÙŠØ± Ø§Ù„Ø±Ø§Ø¨Ø·!");
                }
            }, 2000); // ØªØ£Ø®ÙŠØ± ÙˆÙ‡Ù…ÙŠ Ù„Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ù‡ÙŠØ¨Ø© ÙˆØ§Ù„Ø£Ù…Ø§Ù†
        } else {
            document.body.innerHTML = "<h1>Ø®Ø·Ø£: Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…Ù„Ù Ù„ØªØ«Ø¨ÙŠØªÙ‡!</h1>";
        }
    }
</script>

</body>
</html>
